# ğŸ” ë³´ì•ˆ êµ¬í˜„: ë„¤ì´ë²„ ì„¸ì…˜ - êµ¬ê¸€ ê³„ì • ì—°ë™

## ğŸ“‹ ê°œìš”

ì´ ë¬¸ì„œëŠ” **ë„¤ì´ë²„ ìŠ¤ë§ˆíŠ¸í”Œë ˆì´ìŠ¤ ì„¸ì…˜**ì„ **êµ¬ê¸€ ê³„ì •ì— ì¢…ì†**ì‹œì¼œ, ê¶Œí•œì´ ìˆëŠ” ì‚¬ìš©ìë§Œ í•´ë‹¹ ì„¸ì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ë³´ì•ˆ ê¸°ëŠ¥ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

## ğŸ” ë¬¸ì œì  (Before)

### ê¸°ì¡´ ì‹œìŠ¤í…œì˜ ë³´ì•ˆ ì·¨ì•½ì 

```
âŒ ë¬¸ì œ:
1. ë„¤ì´ë²„ ì„¸ì…˜ì´ user_id(ë„¤ì´ë²„ ì•„ì´ë””)ë¡œë§Œ ê´€ë¦¬ë¨
2. ë‹¤ë¥¸ êµ¬ê¸€ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸í•´ë„ user_idë§Œ ì•Œë©´ ì„¸ì…˜ ì‚¬ìš© ê°€ëŠ¥
3. êµ¬ê¸€ ê³„ì •ê³¼ ë„¤ì´ë²„ ì„¸ì…˜ì˜ ì—°ê²°ì´ í™•ì¸ë˜ì§€ ì•ŠìŒ

ì˜ˆì‹œ:
- ì‚¬ìš©ì Aê°€ ìì‹ ì˜ ë„¤ì´ë²„ ì„¸ì…˜(user_id: "naver123")ì„ EXEë¡œ ì—…ë¡œë“œ
- ì‚¬ìš©ì Bê°€ ë‹¤ë¥¸ êµ¬ê¸€ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸
- ì‚¬ìš©ì Bê°€ user_id="naver123"ì„ ì•Œë©´ Aì˜ ì„¸ì…˜ìœ¼ë¡œ ë¦¬ë·° ê´€ë¦¬ ê°€ëŠ¥ âš ï¸
```

## âœ… í•´ê²° ë°©ì•ˆ (After)

### êµ¬í˜„ëœ ë³´ì•ˆ ê¸°ëŠ¥

```
âœ… í•´ê²°:
1. ë„¤ì´ë²„ ì„¸ì…˜ì— google_emails ë°°ì—´ ì €ì¥ (ë‹¤ëŒ€ë‹¤ ê´€ê³„)
2. ëª¨ë“  ë„¤ì´ë²„ API í˜¸ì¶œ ì‹œ google_emailì„ í—¤ë”ë¡œ ì „ì†¡
3. ë°±ì—”ë“œì—ì„œ google_emailì´ ì„¸ì…˜ì˜ google_emailsì— í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ ê²€ì¦
4. ê¶Œí•œì´ ì—†ìœ¼ë©´ 403 Forbidden ì—ëŸ¬ ë°˜í™˜

ê²°ê³¼:
- ì‚¬ìš©ì Aê°€ ìì‹ ì˜ ë„¤ì´ë²„ ì„¸ì…˜ì„ ì—…ë¡œë“œ (google_email: "userA@gmail.com")
- ì‚¬ìš©ì Bê°€ ë‹¤ë¥¸ êµ¬ê¸€ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ (google_email: "userB@gmail.com")
- ì‚¬ìš©ì Bê°€ Aì˜ ì„¸ì…˜ì— ì ‘ê·¼ ì‹œë„ â†’ 403 ì—ëŸ¬ ë°œìƒ ğŸ”’
```

## ğŸ—ï¸ êµ¬í˜„ ì•„í‚¤í…ì²˜

### 1. ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡° (MongoDB)

```javascript
// naver_sessions ì»¬ë ‰ì…˜
{
  "_id": "naver_user_id",           // ë„¤ì´ë²„ ì•„ì´ë”” (ì„¸ì…˜ ID)
  "username": "ë„¤ì´ë²„ì‚¬ìš©ìëª…",
  "google_emails": [                 // ğŸ” NEW: ì—¬ëŸ¬ êµ¬ê¸€ ê³„ì • ì§€ì›
    "user1@gmail.com",
    "user2@gmail.com"
  ],
  "cookies": [...],                  // ë„¤ì´ë²„ ì„¸ì…˜ ì¿ í‚¤
  "created_at": "2024-01-01T00:00:00Z",
  "expires_at": "2024-01-08T00:00:00Z",
  "last_used": "2024-01-01T12:00:00Z",
  "status": "active",
  "cookie_count": 25
}
```

### 2. API íë¦„ë„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  í”„ë¡ íŠ¸ì—”ë“œ      â”‚
â”‚  (React)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 1. API ìš”ì²­ (ìë™ìœ¼ë¡œ í—¤ë”ì— google_email í¬í•¨)
         â”‚    GET /api/naver/places?user_id=naver123
         â”‚    Headers: { "X-Google-Email": "user@gmail.com" }
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë°±ì—”ë“œ          â”‚
â”‚  (FastAPI)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 2. ê¶Œí•œ ê²€ì¦ ë¯¸ë“¤ì›¨ì–´ ì‹¤í–‰
         â”‚    verify_naver_session_access(user_id, google_email)
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MongoDB        â”‚
â”‚  naver_sessions â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 3. ì„¸ì…˜ ì¡°íšŒ ë° ê¶Œí•œ í™•ì¸
         â”‚    session = db.find_one({"_id": "naver123"})
         â”‚    if "user@gmail.com" in session["google_emails"]:
         â”‚        âœ… ê¶Œí•œ ìˆìŒ â†’ ê³„ì† ì§„í–‰
         â”‚    else:
         â”‚        ğŸš« 403 Forbidden
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë„¤ì´ë²„ ì„œë¹„ìŠ¤   â”‚
â”‚  (Selenium)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ êµ¬í˜„ ì„¸ë¶€ ì‚¬í•­

### 1. ë°±ì—”ë“œ: ê¶Œí•œ ê²€ì¦ ë¯¸ë“¤ì›¨ì–´

**íŒŒì¼:** `backend/utils/auth_middleware.py`

```python
async def verify_naver_session_access(
    user_id: str,
    google_email: Optional[str] = Header(None, alias="X-Google-Email")
) -> bool:
    """
    ë„¤ì´ë²„ ì„¸ì…˜ ì ‘ê·¼ ê¶Œí•œ ê²€ì¦
    """
    # Google ì´ë©”ì¼ì´ ì—†ìœ¼ë©´ ê±°ë¶€
    if not google_email:
        raise HTTPException(status_code=401, detail="Google ê³„ì • ì •ë³´ê°€ í•„ìš”í•©ë‹ˆë‹¤")
    
    # MongoDBì—ì„œ ì„¸ì…˜ ì¡°íšŒ
    session = db.naver_sessions.find_one({"_id": user_id})
    if not session:
        raise HTTPException(status_code=404, detail="ì„¸ì…˜ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤")
    
    # ğŸ” ê¶Œí•œ ê²€ì¦
    if google_email not in session.get("google_emails", []):
        raise HTTPException(status_code=403, detail="ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤")
    
    return True
```

### 2. ë°±ì—”ë“œ: API ë¼ìš°íŠ¸ ë³´í˜¸

**íŒŒì¼:** `backend/api/routes/naver.py`

ëª¨ë“  ë„¤ì´ë²„ API ì—”ë“œí¬ì¸íŠ¸ì— ê¶Œí•œ ê²€ì¦ ì¶”ê°€:

```python
@router.get("/places")
async def get_naver_places(
    user_id: str = "default",
    google_email: Optional[str] = Header(None, alias="X-Google-Email")
):
    # ğŸ” ê¶Œí•œ ê²€ì¦
    await verify_naver_session_access(user_id, google_email)
    
    # ê²€ì¦ í†µê³¼ í›„ ì‹¤í–‰
    naver_service.set_active_user(user_id)
    return await naver_service.get_places()
```

**ë³´í˜¸ëœ ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡:**
- âœ… `GET /api/naver/places` - ë§¤ì¥ ëª©ë¡ ì¡°íšŒ
- âœ… `GET /api/naver/reviews/{place_id}` - ë¦¬ë·° ì¡°íšŒ
- âœ… `POST /api/naver/reviews/load-async` - ë¹„ë™ê¸° ë¦¬ë·° ë¡œë“œ
- âœ… `POST /api/naver/reviews/reply-async` - ë¹„ë™ê¸° ë‹µê¸€ ì‘ì„±
- âœ… `POST /api/naver/reviews/reply` - ë™ê¸° ë‹µê¸€ ì‘ì„±
- âœ… `GET /api/naver/sessions/list` - ì„¸ì…˜ ëª©ë¡ (ìë™ í•„í„°ë§)
- âœ… `POST /api/naver/session/switch` - ì„¸ì…˜ ì „í™˜
- âœ… `DELETE /api/naver/session` - ì„¸ì…˜ ì‚­ì œ

### 3. í”„ë¡ íŠ¸ì—”ë“œ: ìë™ í—¤ë” ì¶”ê°€

**íŒŒì¼:** `frontend/src/api/client.js`

ëª¨ë“  API ìš”ì²­ì— ìë™ìœ¼ë¡œ Google ì´ë©”ì¼ í—¤ë” ì¶”ê°€:

```javascript
apiClient.interceptors.request.use((config) => {
  // ğŸ” Google ì´ë©”ì¼ì„ í—¤ë”ì— ìë™ ì¶”ê°€
  const googleEmail = localStorage.getItem('google_email')
  if (googleEmail) {
    config.headers['X-Google-Email'] = googleEmail
  }
  return config
})
```

### 4. EXE: ì„¸ì…˜ ì—…ë¡œë“œ ì‹œ Google ê³„ì • ì—°ê²°

**íŒŒì¼:** `naver_session_creator.py`

EXEì—ì„œ ë„¤ì´ë²„ ì„¸ì…˜ ì—…ë¡œë“œ ì‹œ Google ì´ë©”ì¼ì„ í•¨ê»˜ ì „ì†¡:

```python
# ğŸš€ Google emailì„ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬
upload_url = f"{self.api_url}/api/naver/session/upload?google_email={google_email}"

response = requests.post(
    upload_url,
    json={
        "cookies": cookies,
        "user_id": account_id,
        "username": username
    }
)
```

## ğŸ¯ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ê°œì¸ ì‚¬ìš© (1:1 ê´€ê³„)

```
1. ì‚¬ìš©ì Aê°€ êµ¬ê¸€ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸
   - Google: userA@gmail.com

2. EXEë¡œ ë„¤ì´ë²„ ì„¸ì…˜ ìƒì„±
   - Google Email: userA@gmail.com
   - ë„¤ì´ë²„ ì•„ì´ë””: naver_userA

3. ì›¹ì—ì„œ ë¦¬ë·° ê´€ë¦¬
   - âœ… userA@gmail.comìœ¼ë¡œ ë¡œê·¸ì¸ â†’ naver_userA ì„¸ì…˜ ì‚¬ìš© ê°€ëŠ¥
   - ğŸš« userB@gmail.comìœ¼ë¡œ ë¡œê·¸ì¸ â†’ naver_userA ì„¸ì…˜ ì‚¬ìš© ë¶ˆê°€
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: íŒ€ ì‚¬ìš© (ë‹¤ëŒ€ë‹¤ ê´€ê³„)

```
1. ê´€ë¦¬ìê°€ EXEë¡œ íšŒì‚¬ ë„¤ì´ë²„ ì„¸ì…˜ ìƒì„±
   - Google Email: admin@company.com, staff1@company.com, staff2@company.com
   - ë„¤ì´ë²„ ì•„ì´ë””: company_naver

2. ê° ì§ì›ì´ ìì‹ ì˜ êµ¬ê¸€ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸
   - âœ… admin@company.com â†’ company_naver ì„¸ì…˜ ì‚¬ìš© ê°€ëŠ¥
   - âœ… staff1@company.com â†’ company_naver ì„¸ì…˜ ì‚¬ìš© ê°€ëŠ¥
   - âœ… staff2@company.com â†’ company_naver ì„¸ì…˜ ì‚¬ìš© ê°€ëŠ¥
   - ğŸš« external@gmail.com â†’ company_naver ì„¸ì…˜ ì‚¬ìš© ë¶ˆê°€
```

### ì‹œë‚˜ë¦¬ì˜¤ 3: ê³„ì • ì¶”ê°€/ì œê±°

```
1. ê¸°ì¡´ ì„¸ì…˜ì— ìƒˆ ì§ì› ì¶”ê°€
   - EXEì—ì„œ ê°™ì€ ë„¤ì´ë²„ ì„¸ì…˜ ì¬ì—…ë¡œë“œ
   - Google Emailì— staff3@company.com ì¶”ê°€
   - â†’ google_emails ë°°ì—´ì— ìë™ ì¶”ê°€ (ì¤‘ë³µ ë°©ì§€)

2. í‡´ì‚¬í•œ ì§ì› ì œê±°
   - MongoDBì—ì„œ ì§ì ‘ ì œê±° ë˜ëŠ” EXEë¡œ ì¬ì—…ë¡œë“œ
   - google_emails ë°°ì—´ì—ì„œ ì œê±°
```

## ğŸ§ª í…ŒìŠ¤íŠ¸ ë°©ë²•

### 1. ì •ìƒ ì ‘ê·¼ í…ŒìŠ¤íŠ¸

```bash
# ì˜¬ë°”ë¥¸ Google ê³„ì •ìœ¼ë¡œ ì ‘ê·¼
curl -X GET "http://localhost:8000/api/naver/places?user_id=naver123" \
  -H "X-Google-Email: authorized@gmail.com"

# ì˜ˆìƒ ì‘ë‹µ: 200 OK, ë§¤ì¥ ëª©ë¡
```

### 2. ê¶Œí•œ ì—†ëŠ” ì ‘ê·¼ í…ŒìŠ¤íŠ¸

```bash
# ê¶Œí•œ ì—†ëŠ” Google ê³„ì •ìœ¼ë¡œ ì ‘ê·¼
curl -X GET "http://localhost:8000/api/naver/places?user_id=naver123" \
  -H "X-Google-Email: unauthorized@gmail.com"

# ì˜ˆìƒ ì‘ë‹µ: 403 Forbidden
{
  "detail": "ì´ ë„¤ì´ë²„ ì„¸ì…˜ì— ì ‘ê·¼í•  ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤. ê³„ì •: naver123"
}
```

### 3. Google ì´ë©”ì¼ ì—†ëŠ” ì ‘ê·¼ í…ŒìŠ¤íŠ¸

```bash
# Google ì´ë©”ì¼ í—¤ë” ì—†ì´ ì ‘ê·¼
curl -X GET "http://localhost:8000/api/naver/places?user_id=naver123"

# ì˜ˆìƒ ì‘ë‹µ: 401 Unauthorized
{
  "detail": "Google ê³„ì • ì •ë³´ê°€ í•„ìš”í•©ë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”."
}
```

## ğŸ”’ ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### 1. í—¤ë” ìŠ¤í‘¸í•‘ ë°©ì§€

í˜„ì¬ êµ¬í˜„ì€ í´ë¼ì´ì–¸íŠ¸ê°€ ë³´ë‚´ëŠ” `X-Google-Email` í—¤ë”ë¥¼ ì‹ ë¢°í•©ë‹ˆë‹¤. 
ë” ë†’ì€ ë³´ì•ˆì´ í•„ìš”í•œ ê²½ìš° ë‹¤ìŒì„ ì¶”ê°€í•˜ì„¸ìš”:

```python
# JWT í† í° ê¸°ë°˜ ì¸ì¦ (ì¶”ê°€ ê°œì„ )
from jose import jwt

def verify_google_token(token: str) -> str:
    """Google JWT í† í° ê²€ì¦"""
    payload = jwt.decode(token, google_public_key, algorithms=["RS256"])
    return payload["email"]
```

### 2. ì„¸ì…˜ ë§Œë£Œ í™•ì¸

```python
# ë§Œë£Œëœ ì„¸ì…˜ì€ ìë™ìœ¼ë¡œ ê±°ë¶€
if session.get("expires_at") < datetime.utcnow():
    raise HTTPException(status_code=401, detail="ì„¸ì…˜ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤")
```

### 3. ë¡œê¹… ë° ê°ì‚¬

```python
# ëª¨ë“  ì ‘ê·¼ ì‹œë„ë¥¼ ë¡œê¹…
print(f"ğŸ” Access attempt: {google_email} â†’ {user_id}")
print(f"   Result: {'âœ… Granted' if authorized else 'ğŸš« Denied'}")
```

## ğŸ“Š ë°ì´í„° íë¦„ ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ì‚¬ìš©ì ë¡œê·¸ì¸                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Google OAuth ë¡œê·¸ì¸  â”‚
         â”‚ email: user@gmail.comâ”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ localStorage ì €ì¥    â”‚
         â”‚ google_email        â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                  â”‚
    â–¼                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ EXEë¡œ ì„¸ì…˜ ìƒì„± â”‚          â”‚ ì›¹ì—ì„œ ë¦¬ë·° ê´€ë¦¬  â”‚
â”‚ + google_email â”‚          â”‚ + google_email    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                             â”‚
        â–¼                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MongoDB ì €ì¥       â”‚      â”‚ API í˜¸ì¶œ (ìë™ í—¤ë”)  â”‚
â”‚ google_emails: [] â”‚      â”‚ X-Google-Email       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚ ê¶Œí•œ ê²€ì¦ ë¯¸ë“¤ì›¨ì–´    â”‚
                          â”‚ verify_access()      â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                              â”‚
                    â–¼                              â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ âœ… ê¶Œí•œ ìˆìŒ  â”‚            â”‚ ğŸš« ê¶Œí•œ ì—†ìŒ  â”‚
            â”‚ 200 OK       â”‚            â”‚ 403 Forbiddenâ”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ ë°°í¬ ì‹œ ì£¼ì˜ì‚¬í•­

### Heroku (ë°±ì—”ë“œ)

```bash
# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
heroku config:set MONGODB_URL="mongodb+srv://..."
heroku config:set USE_MONGODB="true"

# ë°°í¬
git push heroku main
```

### Vercel (í”„ë¡ íŠ¸ì—”ë“œ)

```bash
# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
vercel env add VITE_API_BASE_URL

# ë°°í¬
vercel --prod
```

## ğŸ‰ ì™„ë£Œ!

ì´ì œ ë„¤ì´ë²„ ì„¸ì…˜ì€ êµ¬ê¸€ ê³„ì •ì— ì•ˆì „í•˜ê²Œ ì¢…ì†ë˜ì–´, 
ê¶Œí•œì´ ìˆëŠ” ì‚¬ìš©ìë§Œ í•´ë‹¹ ì„¸ì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!

### ì£¼ìš” ê°œì„  ì‚¬í•­

âœ… **ë³´ì•ˆ ê°•í™”**: êµ¬ê¸€ ê³„ì •ê³¼ ë„¤ì´ë²„ ì„¸ì…˜ì˜ 1:1 ë˜ëŠ” N:M ì—°ê²°
âœ… **ê¶Œí•œ ê´€ë¦¬**: ëª¨ë“  APIì—ì„œ ìë™ ê¶Œí•œ ê²€ì¦
âœ… **ì‚¬ìš©ì ê²½í—˜**: íˆ¬ëª…í•œ ë³´ì•ˆ (ì‚¬ìš©ìëŠ” ë³„ë„ ì‘ì—… ë¶ˆí•„ìš”)
âœ… **í™•ì¥ì„±**: íŒ€ ë‹¨ìœ„ ì‚¬ìš© ê°€ëŠ¥ (ë‹¤ëŒ€ë‹¤ ê´€ê³„)
âœ… **ê°ì‚¬ ì¶”ì **: ëª¨ë“  ì ‘ê·¼ ì‹œë„ ë¡œê¹…

---

**ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“ ì§€ ì—°ë½ì£¼ì„¸ìš”!** ğŸ™




